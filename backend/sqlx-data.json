{
  "db": "PostgreSQL",
  "00bab3778a96aa952c22809a8767f18e7b98a544307f78a925c0cae33cd4ebb0": {
    "query": "select messages.uuid,\n               messages.content,\n               messages.room,\n               messages.created_at,\n               messages.type as \"type_: MessageType\",\n               u.username   as author_username,\n               u.uuid       as author_uuid,\n               u.password   as author_password,\n               u.created_at as author_created_at\n        from messages\n                 left join users u on u.uuid = author\n        where room = $1;\n    ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "content",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "room",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "type_: MessageType",
          "type_info": {
            "Custom": {
              "name": "message_type",
              "kind": {
                "Enum": [
                  "default",
                  "room_join",
                  "room_leave"
                ]
              }
            }
          }
        },
        {
          "ordinal": 5,
          "name": "author_username",
          "type_info": "Text"
        },
        {
          "ordinal": 6,
          "name": "author_uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "author_password",
          "type_info": "Text"
        },
        {
          "ordinal": 8,
          "name": "author_created_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "0101d252028eed262781dc3770402575b6ca1682d78ac39bf08d018824df897e": {
    "query": "\n            select r.*\n            from room_members\n                left join rooms r on r.uuid = room_members.room_id\n            where user_id = $1;\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "created_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "0c0cca1e0df11f10e520e0f3c66d68e2e3e1518b2814641031c178751ac02d3a": {
    "query": "\n            select *\n            from users\n            where username = $1;\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "username",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "created_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "0e10ce6299dc8b1458959c6ffa9b855023ce2f32f17ed3b3e204a0bd3d928263": {
    "query": "\n            select *\n            from users\n            where uuid = $1;\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "username",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "created_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "533d4b9eae49a915e99b56a48a999d37c43ba1c488b9e9bc66e3c995efed33b5": {
    "query": "\n            insert into users(username, uuid, password)\n            values ($1, $2, $3)\n            returning *;\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "username",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "created_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Uuid",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "637077faa185ac0ea9ed67fc86ed852ba49e5ce30e4150dd34cdc6b2ba2d89ff": {
    "query": "\n            insert into messages(uuid, author, room, content, type)\n            values ($1, $2, $3, $4, $5)\n            returning uuid, content, room, created_at, type as \"type_: MessageType\";\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "content",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "room",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "type_: MessageType",
          "type_info": {
            "Custom": {
              "name": "message_type",
              "kind": {
                "Enum": [
                  "default",
                  "room_join",
                  "room_leave"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Uuid",
          "Text",
          {
            "Custom": {
              "name": "message_type",
              "kind": {
                "Enum": [
                  "default",
                  "room_join",
                  "room_leave"
                ]
              }
            }
          }
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "6aa8523d60e7e6e409e9447e4921d0adf70973d924c2dfaa53f71f4f2bfc79a8": {
    "query": "\n            insert into room_members(room_id, user_id, has_elevated_permissions)\n            values ($1, $2, $3)\n            returning *;\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "room_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "has_elevated_permissions",
          "type_info": "Bool"
        },
        {
          "ordinal": 3,
          "name": "joined_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Bool"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "935a7713ce02ecc3dc9c51bdbf0eb696c84bebb4982fc4f51833f936b276b334": {
    "query": "\n                select (count(*) = 1) as is_in_room\n                from room_members\n                where room_id = $1\n                  and user_id = $2;\n            ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "is_in_room",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": [
        null
      ]
    }
  },
  "9b0aad17449622bd32329b45a3943c61fbfe2debc88559d2c8446bae1b7d6ff5": {
    "query": "\n            insert into rooms(name, uuid)\n            values ($1, $2)\n            returning *;\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "created_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "d344836a7f5ac3a3b2b9cf0c6c6193812f3c3c784dd0cad11d8a15cfebfc49a3": {
    "query": "\n            select *\n            from rooms\n            where uuid = $1;\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "created_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "ebc2a96d581816639fc0ef036b04d94090eafb03afc9166035906984c2e7337b": {
    "query": "\n            select u.username   as user_username,\n                   u.uuid       as user_uuid,\n                   u.password   as user_password,\n                   u.created_at as user_created_at,\n                   has_elevated_permissions,\n                   joined_at\n            from room_members\n            left join rooms r on r.uuid = room_members.room_id\n            left join users u on u.uuid = room_members.user_id\n            where room_id = $1;\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "user_username",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "user_uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "user_password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "user_created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "has_elevated_permissions",
          "type_info": "Bool"
        },
        {
          "ordinal": 5,
          "name": "joined_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  }
}